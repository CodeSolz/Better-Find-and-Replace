(()=>{var __webpack_modules__={"./src/js/src/app.js"(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){eval("// var $ = require( \"jquery\" );\n// var jQuery = require( \"jquery\" );\nvar dryRunReport = __webpack_require__(/*! ./components/dryRunReport */ \"./src/js/src/components/dryRunReport.js\"); // const Swal = require('sweetalert2')\n\n\njQuery(document).ready(function ($) {\n  $(\"form\").submit(function (e) {\n    e.preventDefault(); //disable submit button \n\n    $(\".btn-custom-submit\").attr('disabled', 'disabled');\n    var $this = $(this);\n    var formData = new FormData($this[0]);\n    var action = $this.find('#cs_field_action').val();\n\n    if (typeof action === 'undefined' || action.length == 0) {\n      action = \"rtafar_ajax\";\n    }\n\n    formData.append(\"action\", action);\n    formData.append(\"method\", $this.find('#cs_field_method').val());\n    var title = $this.find('#cs_field_swal_title').val(); //custom title for dry run \n\n    $('input[name*=\"dry_run\"]:checked').each(function () {\n      // console.log( this.value );\n      title = rtafr.drT;\n    });\n    Swal.fire({\n      title: title,\n      text: $this.find('#cs_field_swal_des').val(),\n      timer: 200000,\n      imageUrl: $this.find('#cs_field_swal_loading_gif').val(),\n      showConfirmButton: false,\n      timerProgressBar: true,\n      allowOutsideClick: false\n    });\n    $.ajax({\n      url: ajaxurl,\n      type: 'POST',\n      data: formData,\n      contentType: false,\n      cache: false,\n      processData: false\n    }).done(function (data) {\n      // console.log( data );\n      $(\".btn-custom-submit\").removeAttr('disabled');\n\n      if (true === data.status) {\n        if (typeof data.show_custom_content === 'undefined') {\n          Swal.fire({\n            title: data.title,\n            text: data.text,\n            icon: \"success\",\n            timer: 2500,\n            showConfirmButton: false\n          });\n        }\n\n        if (typeof data.redirect_url !== 'undefined') {\n          setTimeout(function () {\n            window.location.href = data.redirect_url;\n          }, 2500);\n        }\n\n        if (typeof data.show_custom_content !== 'undefined' && true === data.show_custom_content) {\n          Swal.close(); //display custom content\n\n          dryRunReport.displayCustomContent(data);\n        }\n      } else if (false === data.status) {\n        Swal.fire({\n          title: data.title,\n          text: data.text,\n          icon: \"error\",\n          timer: 5000\n        });\n      } else {\n        Swal.fire({\n          title: 'OOPS!',\n          text: $this.find('#cs_field_swal_error').val(),\n          icon: \"error\",\n          timer: 5000\n        });\n      }\n    }).fail(function (errorThrown) {\n      console.log('Error: ' + errorThrown.responseText);\n      Swal.fire({\n        title: 'Response Error',\n        text: errorThrown.responseText + '(' + errorThrown.statusText + ') ',\n        icon: \"error\",\n        timer: 5000\n      });\n    });\n    return false;\n  }); //change text on dry run select\n\n  $('input[name*=\"dry_run\"]').change(function () {\n    if (this.checked) {\n      // console.log( 'checked' );\n      $(\".btn-custom-submit\").val(rtafr.frDrBnT);\n    } else {\n      $(\".btn-custom-submit\").val(rtafr.frBnT); // console.log( 'unchecked' );\n    }\n  });\n});\n\n//# sourceURL=webpack://real-time-auto-find-and-replace/./src/js/src/app.js?")},"./src/js/src/components/dryRunReport.js"(module,__unused_webpack_exports,__webpack_require__){eval("function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar wpNotices = __webpack_require__(/*! ./wpNotice */ \"./src/js/src/components/wpNotice.js\");\n\nvar dryRunReport = {\n  displayCustomContent: function displayCustomContent(modalData) {\n    jQuery(\".notice\").hide();\n    jQuery(\"#popup1\").addClass('show-popup').removeClass('hide-popup');\n    jQuery(\"#popup1 > .popup > .content\").removeClass('hidden');\n    jQuery(\".popup > .title \").text('Find & Replace Reports');\n    var m = '';\n\n    if (modalData.replacementTotal > 0) {\n      m = ' in ' + modalData.replacement + ' Row(s) on ' + modalData.replacementInTable + ' Table(s)';\n    }\n\n    jQuery(\".popup > .sub-title \").text('Total replacement found : ' + modalData.replacementTotal + m); //create table rows\n\n    var actionBtn = '<button class=\"button-secondary\" type=\"button\" title=\"' + rtafr.pvt + '\" disabled>' + rtafr.rBt + '</button>';\n    $isApplyBtnDisabled = 'disabled';\n    $isSelectDisabled = 'disabled';\n    $applyText = rtafr.aT;\n    $checkbox = ' disabled =\"disabled\" title=\"' + rtafr.pvt + '\"';\n\n    if (typeof rtafr.is_pro_activate !== 'undefined' && rtafr.is_pro_activate != '') {\n      $applyText = rtafr.aTp;\n      $checkbox = '';\n\n      if (modalData.replacementTotal > 0) {\n        $isApplyBtnDisabled = '';\n        $isSelectDisabled = '';\n      }\n    }\n\n    var tbl = '<table id=\"bfr-results-table\" class=\"widefat\">';\n\n    if (modalData.replacementTotal > 0) {\n      tbl += '<thead class=\"bfr-res-head\"><tr><th width=\"1%\"><input type=\"checkbox\" class=\"pop-report-checkall\"></th> <th width=\"8%\">Row ID</th><th width=\"12%\" class=\"col-stripe\">Column</th><th width=\"30%\">Old Value</th><th  class=\"col-stripe\">New Value</th><th width=\"5%\"></th></tr></thead>';\n      var flagKey = '';\n\n      if (typeof rtafr.is_pro_activate !== 'undefined' && rtafr.is_pro_activate != '') {\n        //send value to pro\n        dryRunReport.sendReportToPro(modalData.dryRunReport);\n      }\n\n      for (var _i = 0, _Object$entries = Object.entries(modalData.dryRunReport); _i < _Object$entries.length; _i++) {\n        var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n            key = _Object$entries$_i[0],\n            item = _Object$entries$_i[1];\n\n        if (flagKey !== key) {\n          tbl += '<tbody><tr class=\"tbl-name\"><td colspan=\"6\"> Table : ' + key + '</td></tr>';\n        }\n\n        flagKey = key;\n\n        for (var _i2 = 0, _Object$entries2 = Object.entries(item); _i2 < _Object$entries2.length; _i2++) {\n          var _Object$entries2$_i = _slicedToArray(_Object$entries2[_i2], 2),\n              k = _Object$entries2$_i[0],\n              val = _Object$entries2$_i[1];\n\n          var checkVal = '';\n\n          if (typeof rtafr.is_pro_activate !== 'undefined' && rtafr.is_pro_activate != '') {\n            var attrRid = ' data-rid = \"' + val.rid + '\" data-col = \"' + val.col + '\" ';\n            actionBtn = '<button class=\"button-primary btn-replace replace-' + val.rid + '\" type=\"button\" data-tbl=\"' + key + '\" ' + attrRid + ' >Replace</button>';\n            checkVal = 'bfrp__' + key + '__' + val.rid + '__' + val.col;\n          }\n\n          tbl += '<tr class=\"rowid_' + val.rid + '\"><td width=\"1%\"><input type=\"checkbox\" class=\"replace-item-check\" ' + $checkbox + ' ' + ' value=\"' + checkVal + '\" /> </td><td width=\"8%\" align=\"center\">' + val.rid + '</td> ' + ' <td width=\"12%\" class=\"col-stripe\">' + val.col + '</td><td width=\"30%\">' + val.dis_find + '</td> ' + '<td  class=\"col-stripe\">' + val.dis_replace + '</td><td width=\"5%\">' + actionBtn + '</td></tr>';\n        }\n      }\n    } else {\n      tbl += '<tbody><tr><td colspan=\"5\" class=\"bfar-dry-nada\">' + modalData.nothing_found + '</td></tr>';\n    }\n\n    tbl += '</tbody></table>';\n    var bulkActionPro = '<select class=\"bfr-pop-bulk-select\" ' + $isSelectDisabled + '>' + '<option value=\"\">' + rtafr.baT + '</option>' + '<option value=\"1\">' + rtafr.rT + '</option>' + '</select>' + '<button class=\"button-primary btn-bulk-replace\" ' + $isApplyBtnDisabled + ' type=\"button\" >' + $applyText + '</button>';\n    jQuery(\".content\").html(tbl);\n    jQuery(\".after-content\").html(bulkActionPro);\n  },\n  sendReportToPro: function sendReportToPro(dryRunReport) {\n    var formData = new FormData();\n    formData.append(\"action\", 'bfrp_ajax');\n    formData.append(\"method\", 'functions\\\\ActionHandler@bfrpSaveDryRunItemTemp');\n    formData.append(\"cs_token\", jQuery(\"#cs_token\").val());\n    formData.append(\"form_data\", JSON.stringify(dryRunReport));\n    jQuery.ajax({\n      url: ajaxurl,\n      type: 'POST',\n      data: formData,\n      contentType: false,\n      cache: false,\n      processData: false\n    }).done(function (data) {\n      console.log(data);\n    }).fail(function (errorThrown) {\n      jQuery(\".popup > .sub-title\").after(wpNotices.error('Error : ' + errorThrown.responseText));\n    });\n  }\n};\nmodule.exports = dryRunReport;\n\n//# sourceURL=webpack://real-time-auto-find-and-replace/./src/js/src/components/dryRunReport.js?")},"./src/js/src/components/wpNotice.js"(module){eval("var wpNotices = {\n  warning: function warning(msg) {\n    wpNotices.removeMsg('notice');\n    return '<div class=\"notice notice-warning\">' + msg + '</div>';\n  },\n  error: function error(msg) {\n    wpNotices.removeMsg('notice');\n    return '<div class=\"notice notice-error\">' + msg + '</div>';\n  },\n  info: function info(msg) {\n    wpNotices.removeMsg('notice');\n    return '<div class=\"notice notice-info\">' + msg + '</div>';\n  },\n  success: function success(msg) {\n    wpNotices.removeMsg('notice');\n    return '<div class=\"notice notice-success\">' + msg + '</div>';\n  },\n  removeMsg: function removeMsg(classSelector) {\n    jQuery(\".\" + classSelector).hide('slow').remove();\n  }\n};\nmodule.exports = wpNotices;\n\n//# sourceURL=webpack://real-time-auto-find-and-replace/./src/js/src/components/wpNotice.js?")}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports}var __webpack_exports__=__webpack_require__("./src/js/src/app.js")})()